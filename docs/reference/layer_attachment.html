<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Attach a layer to a tplyr_table object — add_layer • Tplyr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Attach a layer to a tplyr_table object — add_layer" />
<meta property="og:description" content="add_layer attaches a tplyr_layer to a tplyr_table object. This allows
for a tidy style of programming (using magrittr piping, i.e. %&amp;gt;%) with a
secondary advantage - the construction of the layer object may consist of a series of piped
functions itself.
Tplyr encourages a user to view the construction of a table as a series of &quot;layers&quot;.
The construction of each of these layers are isolated and independent of one another - but
each of these layers are children of the table itself. add_layer isolates the construction
of an individual layer and allows the user to construct that layer and insert it back into the
parent. The syntax for this is intuitive and allows for tidy piping. Simply pipe the current
table object in, and write the code to construct your layer within the layer parameter.
add_layers is another approach to attaching layers to a tplyr_table. Instead of
constructing the entire table at once, add_layers allows you to construct layers as
different objects. These layers can then be attached into the tplyr_table all at
once.
add_layer and add_layers both additionally allow you to name the layers as you
attach them. This is helpful when using functions like get_numeric_data or
get_stats_data when you can access information from a layer directly.
add_layer has a name parameter, and layers can be named in add_layers by
submitting the layer as a named argument." />
<meta property="og:image" content="/reference/figures/Atorus_Stickers_vF_Tplyr.png" />
<meta property="og:image:alt" content="Tplyr Hex Sticker" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@AtorusR" />
<meta name="twitter:site" content="@AtorusR" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165685385-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165685385-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Tplyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Tplyr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Table Vignettes</li>
    <li>
      <a href="../articles/table.html">Tplyr Table Properties</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Layer Vignettes</li>
    <li>
      <a href="../articles/desc.html">Descriptive Statistic Layers</a>
    </li>
    <li>
      <a href="../articles/count.html">Count Layers</a>
    </li>
    <li>
      <a href="../articles/shift.html">Shift Layers</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Helpers</li>
    <li>
      <a href="../articles/riskdiff.html">Risk Difference</a>
    </li>
    <li>
      <a href="../articles/sort.html">Sorting a Tplyr Table</a>
    </li>
    <li>
      <a href="../articles/options.html">Tplyr Options</a>
    </li>
    <li>
      <a href="../articles/styled-table.html">Producing a Styled Table</a>
    </li>
    <li>
      <a href="../articles/denom.html">Totals, Missings, and Denominators</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/atorus-research/Tplyr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Attach a layer to a <code>tplyr_table</code> object</h1>
    <small class="dont-index">Source: <a href='https://github.com/atorus-research/Tplyr/blob/master/R/layering.R'><code>R/layering.R</code></a></small>
    <div class="hidden name"><code>layer_attachment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>add_layer</code> attaches a <code>tplyr_layer</code> to a <code>tplyr_table</code> object. This allows
for a tidy style of programming (using <code>magrittr</code> piping, i.e. <code>%&gt;%</code>) with a
secondary advantage - the construction of the layer object may consist of a series of piped
functions itself.</p>
<p><code>Tplyr</code> encourages a user to view the construction of a table as a series of "layers".
The construction of each of these layers are isolated and independent of one another - but
each of these layers are children of the table itself. <code>add_layer</code> isolates the construction
of an individual layer and allows the user to construct that layer and insert it back into the
parent. The syntax for this is intuitive and allows for tidy piping. Simply pipe the current
table object in, and write the code to construct your layer within the <code>layer</code> parameter.</p>
<p><code>add_layers</code> is another approach to attaching layers to a <code>tplyr_table</code>. Instead of
constructing the entire table at once, <code>add_layers</code> allows you to construct layers as
different objects. These layers can then be attached into the <code>tplyr_table</code> all at
once.</p>
<p><code>add_layer</code> and <code>add_layers</code> both additionally allow you to name the layers as you
attach them. This is helpful when using functions like <code><a href='get_numeric_data.html'>get_numeric_data</a></code> or
<code><a href='get_stats_data.html'>get_stats_data</a></code> when you can access information from a layer directly.
<code>add_layer</code> has a name parameter, and layers can be named in <code>add_layers</code> by
submitting the layer as a named argument.</p>
    </div>

    <pre class="usage"><span class='fu'>add_layer</span>(<span class='kw'>parent</span>, <span class='kw'>layer</span>, name = <span class='kw'>NULL</span>)

<span class='fu'>add_layers</span>(<span class='kw'>parent</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>parent</th>
      <td><p>A <code>tplyr_table</code> or <code>tplyr_layer</code>/<code>tplyr_subgroup_layer</code> object</p></td>
    </tr>
    <tr>
      <th>layer</th>
      <td><p>A layer construction function and associated modifier functions</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>A name to provide the layer in the table layers container</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Layers to be added</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>tplyr_table</code> or <code>tplyr_layer</code>/<code>tplyr_subgroup_layer</code> with a new layer inserted into the <code>layer</code>
  binding</p>


    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>[tplyr_table(), tplyr_layer(), group_count(), group_desc(), group_shift()]</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Load in pipe</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='kw'><a href='https://magrittr.tidyverse.org'>magrittr</a></span>)

<span class='co'>## Single layer</span>
<span class='kw'>t</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tplyr_table.html'>tplyr_table</a></span>(<span class='kw'>mtcars</span>, <span class='kw'>cyl</span>) <span class='op'>%&gt;%</span>
  <span class='fu'>add_layer</span>(
    <span class='fu'><a href='group_count.html'>group_desc</a></span>(target_var=<span class='kw'>mpg</span>)
  )

<span class='co'>## Single layer with name</span>
<span class='kw'>t</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tplyr_table.html'>tplyr_table</a></span>(<span class='kw'>mtcars</span>, <span class='kw'>cyl</span>) <span class='op'>%&gt;%</span>
  <span class='fu'>add_layer</span>(name=<span class='st'>'mpg'</span>,
    <span class='fu'><a href='group_count.html'>group_desc</a></span>(target_var=<span class='kw'>mpg</span>)
  )

<span class='co'># Using add_layers</span>
<span class='kw'>t</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tplyr_table.html'>tplyr_table</a></span>(<span class='kw'>mtcars</span>, <span class='kw'>cyl</span>)
<span class='kw'>l1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='group_count.html'>group_desc</a></span>(<span class='kw'>t</span>, target_var=<span class='kw'>mpg</span>)
<span class='kw'>l2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='group_count.html'>group_count</a></span>(<span class='kw'>t</span>, target_var=<span class='kw'>cyl</span>)

<span class='kw'>t</span> <span class='op'>&lt;-</span> <span class='fu'>add_layers</span>(<span class='kw'>t</span>, <span class='kw'>l1</span>, <span class='st'>'cyl'</span> = <span class='kw'>l2</span>)

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eli Miller, Mike Stackhouse, Ashley Tarasiewicz, Nathan Kosiba.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


